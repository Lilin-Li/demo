# 後端架構概覽

## 模組與目錄結構
```
open.vincent13/
├── pom.xml
├── common-sdk/
│   ├── core-utils/            # 基礎工具、錯誤處理、Result 封裝（不含業務型別）
│   ├── web/                   # Web 共用配置、CORS、觀測性
│   ├── security/              # Auth/ACL/簽名 SDK，統一登入與敏感資料保護
│   ├── infra-sdk/             # Config/Redis/Kafka/DB SDK，封裝基礎設施
│   ├── dev-test/              # 測試與本地開發工具（Mock、Dummy Provider）
│   └── observability/         # Log/Trace/Metrics Starter，保證全域一致的監控格式
└── services/
    ├── exchange/      
    │  └── xxx-service/
    │      ├── interface/      # REST Controller、DTO、異常處理
    │      ├── app/            # Application Service、用例編排、交易邏輯邊界
    │      ├── domain/         # 聚合根、值物件、領域服務、Repository 介面
    │      └── infra/          # Repository 實作、Outbox、DB Schema、映射層        
    └── service-template/      # 新服務腳手架，示範 controller/監控樣板
```
交易所相關內容已獨立整理於 [exchange service](exchange service.md)。
本文件保留與平台無關的共用架構原則，後續將持續補充。

## 共用架構守則
- 服務採分層架構：interface/app/domain/infra，保持關注點分離。
- 共用功能集中於 `common-sdk`，以 starter 與 BOM 統一依賴版本。
- 契約優先：OpenAPI/AsyncAPI 設計先行，自動生成客戶端避免手動偏差。
- 導入觀測性、SLO 與自動測試，確保品質與可回溯性。
